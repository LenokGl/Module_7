# ADR.002 Выбор СУБД для реализации платформы проведения конференции 
<!-- Название ADR состоит из [ADR.###] [Коротко суть принятого решения] -->

* Статус: Предложено
* Владелец: yabukhte@mts.ru

## Контекст
Бизнес решил продвигать платформу конференции как LMS систему. <br>
Предполагается что обучающие программы будут иметь разные форматы и изменяться в зависимости от направления и количества участников. <br>
Предполагается что на первом этапе обучение будет бесплатным  <br>
Необходимо быстро вывести продукт на рынок <br>
Нужно обосновать выбор СУБД для реализации системы. <br>
Выбранный вариант должен обеспечивать гибкость, устойчивость ,надежность и масштабируемость.


## Варианты решения
<!-- Описание рассмотренных вариантов c их плюсами и минусами -->

### Вариант 1. МуSQL
<!-- Описание варианта 1 -->
**Плюсы**
  * Производительность
  * Соответствие ACID
  
**Минусы**
  * Вертикальное масштабирование. Репликацию необходимо настраивать.
  * Строгая организация данных усложняет изменение структуры БД

### Вариант 2. MongoDB
<!-- Описание варианта 2 -->
 **Плюсы**  
  * Производительность
  * Горизонтальное масштарирование . Репликация из коробки.Может работать на нескольких серверах, балансируя нагрузку и / или дублируя данные, чтобы поддерживать работоспособность системы в случае аппаратного сбоя
  * Подходит для неструктурируемых данных. Позволяет быстро менять дизайн хранилища.
 
 **Минусы**
  * Транзакции являются сложными
  * Нет полного соответствия ACID

## Решение
<!-- Описание выбранного решения. Решение должно быть сформулировано чётко ("Мы используем...", "Мы не используем", а не "Желательно.." или "Предлагается..."). 
Должна быть понятна связь между решением и проблемой, почему выбрали именно это решение из вариантов -->
Для обеспечения гибкости, устойчивости  и быстрой масштабируемости данных  для реализации LMS системы мы используем СУБД MongoDB
## Последствия
<!-- Положительные и отрицательные последствия (trade-offs). Арх. решения, которые потребуется принять как следствие принятого решения. Если решение содержит риски, то описано, как с ними планируют поступить (за счет чего снижать, почему принять). -->
**Плюсы** <br>
 Использование MongoDB в качестве СУБД позволит обеспечить  высокую гибкость , устойчивость и масштабирование. <br>
 Не нужно предварительно разрабатывать четкую схему БД, можно постоянно менять структуру, не нужно постоянно заботиться о строгом формате документа в отличие от MуSQL. <br>
 В данном проекте предполагается хранить объекты с разным набором полей в одной таблице, чего нет в MySQL. <br>
 Данные в формате json необходимо индексировать, чего нет в MySQL. <br>
 Т.к. в рамках данного проекта не планируется ведение финансовых транзакций полное соответствие ACID не требуется. <br>
 Производительность MongoDB при работе с неструктурированными данными превышает MySQL. <br>
 Обеспечивается высокая доступность данных наряду с автоматическим восстановлением данных за счет наличия реплик БД, организация которых не требует дополнительного администрирования. <br>
 Облегчает разработку, не требуется знания SQL и построения сложных запросов, т.к. всю необходимую информацию можно хранить в одном документе.<br> Предпочтение отдается в сторону  консистентности и устойчивости к распределению (СP по CAP) <br>

**Минусы**  
Транзакции с использованием MongoDB являются сложными, что увеличивает объем разработки. 